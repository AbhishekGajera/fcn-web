{"version":3,"sources":["utils/Functions/useUrl.js","utils/Functions/useDebounce.js","app/Admin-components/Product/ProductFetch.js"],"names":["useUrl","param","history","useHistory","useLocation","search","pathname","url","URLSearchParams","urlParam","get","useState","value","setValue","val","set","replace","toString","useDebounce","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","ProductList","searchTerm","setSearchTerm","debouncedSearchTerm","isChecked","pageCount","setPageCount","itemOffset","setItemOffset","itemsPerPage","useCookies","cookies","setCookie","React","show","setShow","valueToEdit","setvalueToEdit","itemlist","setitemlist","isLoading","setIsLoading","list","useForm","mode","register","handleSubmit","reset","formState","errors","onSubmit","isDirty","isValid","data","formData","FormData","append","id","user","category","description","name","commision","status","UpdateProducts","toast","success","autoClose","response","message","error","process","getProductsList","items","results","totalPages","code","JSON","stringify","refreshToken","localStorage","getItem","path","userLogout","finally","push","onHide","backdrop","keyboard","Header","closeButton","Title","Body","className","Group","Control","type","defaultValue","required","placeholder","address","as","desc","selected","step","aria-label","href","onClick","event","preventDefault","role","aria-current","action","onChange","e","target","Fragment","map","item","index","key","console","log","formdata","statusChanged","uid","Swal","fire","title","text","icon","showCancelButton","cancelButtonColor","confirmButtonColor","confirmButtonText","cancelButtonText","then","result","deleteProductById","itemList","Object","keys","Promise","all","dismiss","DismissReason","cancel","imageURL","image","window","open","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","forcePage"],"mappings":"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","file":"static/js/33.000eaf26.chunk.js","sourcesContent":["import { useState } from 'react'\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nexport const useUrl = (param) => {\r\n\r\n    const history = useHistory()\r\n    const { search, pathname } = useLocation()\r\n    const url = new URLSearchParams(search)\r\n\r\n    const urlParam = url.get(param)\r\n    const [value, setValue] = useState(urlParam !== null ? urlParam : '')\r\n\r\n    function _setValue(val){\r\n        url.set(param, val)\r\n        history.replace({ pathname, search: url.toString() }); \r\n        setValue(val)\r\n    }\r\n\r\n    return [value, _setValue]\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n// Hook\r\nexport const useDebounce = (value, delay) => {\r\n    // State and setters for debounced value\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n    useEffect(\r\n      () => {\r\n        // Update debounced value after delay\r\n        const handler = setTimeout(() => {\r\n          setDebouncedValue(value);\r\n        }, delay);\r\n        // Cancel the timeout if value changes (also on delay change or unmount)\r\n        // This is how we prevent debounced value from updating if value is changed ...\r\n        // .. within the delay period. Timeout gets cleared and restarted.\r\n        return () => {\r\n          clearTimeout(handler);\r\n        };\r\n      },\r\n      [value, delay] // Only re-call effect if value or delay changes\r\n    );\r\n    return debouncedValue;\r\n  }","import React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport { deleteProductById, getProductsList, userLogout, UpdateProducts } from \"../../../utils/APIs\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useDebounce } from \"../../../utils/Functions/useDebounce\";\r\nimport Spinner from \"../../shared/Spinner\";\r\nimport { useUrl } from \"../../../utils/Functions/useUrl\";\r\nimport { toast } from \"react-toastify\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form } from 'react-bootstrap';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst ProductList = () => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\r\n\r\n  const [selectedProductType, setselectedProductType] = useState(\"\");\r\n  const [selectedProductCategory, setselectedProductCategory] = useState(\"\");\r\n  const [isChecked, setIsChecked] = useState(\"\");\r\n\r\n  // We start with an empty list of items.\r\n  const [pageCount, setPageCount] = useState(0);\r\n  // Here we use item offsets; we could also use page offsets\r\n  // following the API or data you're working with.\r\n  const [itemOffset, setItemOffset] = useUrl(\"page\");\r\n  const [itemsPerPage] = useState(10);\r\n  const [cookies, setCookie] = useCookies([\"user\"]);\r\n  const [show, setShow] = React.useState(false);\r\n  const [valueToEdit, setvalueToEdit] = useState({});\r\n  const [itemlist, setitemlist] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    list();\r\n  }, [itemOffset, itemsPerPage, debouncedSearchTerm]);\r\n\r\n  // Invoke when user click to request another page. \r\n  const handlePageClick = (event) => {\r\n    setItemOffset(event.selected);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShow(false)\r\n    setvalueToEdit({})\r\n    reset()\r\n  };\r\n\r\n  const handleShow = (value) => {\r\n    reset()\r\n    setvalueToEdit(value)\r\n    setShow(true);\r\n  }\r\n\r\n  const { register, handleSubmit, reset, formState: { errors, isDirty, isValid } } = useForm({\r\n    mode: \"onChange\"\r\n  });\r\n\r\n  const deleteProduct = (uid) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You will not be able to recover this imaginary file!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      cancelButtonColor: \"#DD6B55\",\r\n      confirmButtonColor: \"#DD6B55\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n      cancelButtonText: \"No, keep it\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        if (isChecked == '') {\r\n          return (\r\n            deleteProductById(uid).finally(() => list()),\r\n            Swal.fire(\r\n              \"Deleted!\",\r\n              \"Your imaginary file has been deleted.\",\r\n              \"success\"\r\n            )\r\n          );\r\n        } else {\r\n          const itemList = Object.keys(isChecked).map((id) => {\r\n            if (isChecked[id] === true) {\r\n              deleteProductById(id)\r\n            }\r\n            Swal.fire(\r\n              \"Deleted!\",\r\n              \"Your imaginary file has been deleted.\",\r\n              \"success\"\r\n            )\r\n          })\r\n          Promise.all(itemList).then(() => {\r\n            list();\r\n          });\r\n        }\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire(\"Cancelled\", \"Your imaginary file is safe :)\", \"error\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      const formData = new FormData()\r\n      formData.append(\"productId\", valueToEdit?.id);\r\n      formData.append(\"user\", cookies?.user?.id)\r\n      formData.append(\"category\", data?.category)\r\n      formData.append(\"description\", data?.description)\r\n      formData.append(\"name\", data?.name)\r\n      formData.append(\"commision\", data?.commision)\r\n      formData.append(\"status\", data?.status)\r\n      await UpdateProducts(formData)\r\n      toast.success('Product updated Successfully', {\r\n        autoClose: 3000\r\n      })\r\n      list()\r\n    } catch (error) {\r\n      if (\r\n        error &&\r\n        error.response &&\r\n        error.response.data &&\r\n        error.response.data.message\r\n      ) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n      }\r\n    } finally {\r\n      setShow(false)\r\n    }\r\n  };\r\n\r\n  const onClickDownload = (imageURL) => {\r\n    window.open(imageURL, '_blank');\r\n  }\r\n\r\n  const list = async () => {\r\n    setIsLoading(true)\r\n    try {\r\n      const items = await (\r\n        await getProductsList(\r\n          itemsPerPage,\r\n          +itemOffset + 1,\r\n          searchTerm,\r\n        )\r\n      ).data;\r\n      setitemlist(items?.results);\r\n      setPageCount(items?.totalPages);\r\n      setIsLoading(false)\r\n    } catch (error) {\r\n      if (error?.response?.data?.message) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n      }\r\n\r\n      if (error?.response?.data?.code === 401) {\r\n        const formData = JSON.stringify({\r\n          refreshToken: localStorage.getItem(\"refreshToken\"),\r\n        });\r\n        setCookie(\"user\", null, { path: \"/\" });\r\n        userLogout(formData).finally(() => {\r\n          history.push(\"/user-pages/login-1\");\r\n        });\r\n      }\r\n    }\r\n  }\r\n  const statusChanged = (id, e) => {\r\n    console.log(\"ei\", e.target.value, id);\r\n\r\n    const formdata = new FormData();\r\n    formdata.append(\"productId\", id);\r\n    formdata.append(\"status\", e.target.value);\r\n\r\n    UpdateProducts(formdata)\r\n    toast.success('Status updated successfully', {\r\n      autoClose: true\r\n    })\r\n  }\r\n\r\n  const handleMultiChange = (e) => {\r\n    setIsChecked({ ...isChecked, [e.target.id]: e.target.checked });\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Update Product</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"row auth\">\r\n            <div className=\"col-12 grid-margin\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <form className=\"form-sample\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <p className=\"card-description\"> Update Product </p>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Name\r\n                          </label>\r\n                          <div className=\"col-sm-9\">\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              name=\"name\"\r\n                              defaultValue={valueToEdit.name}\r\n                              {...register(\"name\", { required: true })}\r\n                              placeholder=\"name\"\r\n                            />\r\n                            {errors && errors.name && <p>name is required field</p>}\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Category{\" \"}\r\n                          </label>\r\n                          <div className=\"col-sm-9\">\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              name=\"category\"\r\n                              defaultValue={valueToEdit.category}\r\n                              {...register(\"category\", { required: true })}\r\n                              placeholder=\"category\"\r\n                            />\r\n                            {errors && errors.address && (\r\n                              <p>Category is required field</p>\r\n                            )}\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Description{\" \"}\r\n                          </label>\r\n                          <div className=\"col-sm-9\">\r\n                            <Form.Control\r\n                              as=\"textarea\"\r\n                              name=\"description\"\r\n                              defaultValue={valueToEdit.description}\r\n                              {...register(\"description\", { required: true })}\r\n                              placeholder=\"description\"\r\n                            />\r\n                            {errors && errors.desc && (\r\n                              <p>Description is required field</p>\r\n                            )}\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\" >\r\n                      <div className=\"col-md-12\">\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">Status</label>\r\n                          <div className=\"col-sm-9\">\r\n                            <select\r\n                              className=\"form-control form-control-lg\"\r\n                              id=\"exampleFormControlSelect2\"\r\n                              name=\"status\"\r\n                              {...register(\"status\", {\r\n                                required: true,\r\n                              })}>\r\n                              <option value=''>--Select Status--</option>\r\n                              <option value='1' selected={valueToEdit.status === '1'}>Active</option>\r\n                              <option value='0' selected={valueToEdit.status === '0'}>Inactive</option>\r\n                            </select>\r\n                            {errors && errors.status && (\r\n                              <p>status is required field</p>\r\n                            )}\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Commision{\" \"}\r\n                          </label>\r\n                          <div className=\"col-sm-9\">\r\n                            <Form.Control\r\n                              type=\"number\"\r\n                              step=\"0.00001\"\r\n                              name=\"commision\"\r\n                              defaultValue={valueToEdit.commision}\r\n                              {...register(\"commision\", { required: true })}\r\n                              placeholder=\"commision\"\r\n                            />\r\n                            {errors && errors.commision && (\r\n                              <p>Commision is required field</p>\r\n                            )}\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"mt-3\">\r\n                      <button\r\n                        className=\"btn  btn-primary btn-lg font-weight-medium auth-form-btn\"\r\n                        type=\"submit\"\r\n                      >\r\n                        UPDATE\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div >\r\n        </Modal.Body >\r\n      </Modal >\r\n      <div className=\"page-header\">\r\n        <h3 className=\"page-title\">Products / Show Products </h3>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol className=\"breadcrumb\">\r\n            <li className=\"breadcrumb-item\">\r\n              <a href=\"!#\" onClick={(event) => event.preventDefault()}>\r\n                {cookies?.user?.role} Dashboard\r\n              </a>\r\n            </li>\r\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n              Show Products\r\n            </li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n      <div className=\"col-lg-12 grid-margin stretch-card p0\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n              </div>\r\n\r\n              <div className=\"col-md-6\">\r\n                <div className=\"search-field d-none d-md-block\">\r\n                  <form className=\"d-flex align-items-center h-100\" action=\"#\">\r\n                    <div className=\"input-group\">\r\n                      <div className=\"input-group-prepend outline-gray bg-transparent\">\r\n                        <i className=\"input-group-text border-0 mdi mdi-magnify\"></i>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control outline-gray bg-transparent border-0\"\r\n                        placeholder=\"Search Products\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => {\r\n                          setSearchTerm(e?.target?.value);\r\n                          setItemOffset(0);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <h4 className=\"card-title\">Product list</h4>\r\n\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th> Name </th>\r\n                    <th> Category </th>\r\n                    <th> Description </th>\r\n                    <th> Commision</th>\r\n                    <th> Status </th>\r\n                    <th> Edit </th>\r\n                    <th> Delete </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {\r\n                    isLoading ? <React.Fragment><Spinner /></React.Fragment>\r\n                      :\r\n                      itemlist?.map((item, index) => {\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>{item?.name}</td>\r\n                            <td>{item?.category}</td>\r\n                            <td>{item?.description}</td>\r\n                            <td>{item?.commision}</td>\r\n                            <td>\r\n                              <select\r\n                                id={item.id}\r\n                                onChange={(e) => statusChanged(item.id, e)}\r\n                              >\r\n                                <option\r\n                                  value=\"0\"\r\n                                  selected={item.status == 0 ? \"selected\" : false}\r\n                                >\r\n                                  InActive\r\n                                </option>\r\n                                <option\r\n                                  value=\"1\"\r\n                                  selected={item.status == 1 ? \"selected\" : false}\r\n                                >\r\n                                  Active\r\n                                </option>\r\n                              </select>\r\n                            </td>\r\n                            <td><i onClick={() => handleShow(item)} className=\"mdi mdi-lead-pencil\"></i></td>\r\n                            <td>\r\n                              <i\r\n                                onClick={() => deleteProduct(item?.id)}\r\n                                className=\"mdi mdi-delete\"\r\n                              ></i>\r\n                            </td>\r\n                            <td>\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-gradient-primary btn-sm \"\r\n                                onClick={() => onClickDownload(item?.image)}\r\n                              >\r\n                                Download Product Image\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                </tbody>\r\n              </table>\r\n              <ReactPaginate\r\n                breakLabel=\"...\"\r\n                nextLabel=\"next >\"\r\n                className=\"client-list\"\r\n                onPageChange={handlePageClick}\r\n                pageRangeDisplayed={5}\r\n                pageCount={pageCount}\r\n                previousLabel=\"< previous\"\r\n                renderOnZeroPageCount={null}\r\n                forcePage={itemOffset}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n"],"sourceRoot":""}