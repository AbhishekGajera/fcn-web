{"version":3,"sources":["app/Admin-components/Employee-Management/Leave.js"],"names":["Leave","history","useHistory","useCookies","cookies","setCookie","useState","itemlist","setitemlist","employeeList","setemployeeList","pageCount","setPageCount","itemOffset","setItemOffset","itemsPerPage","React","show","setShow","valueToEdit","setvalueToEdit","useForm","mode","register","handleSubmit","reset","formState","errors","isDirty","isValid","modelMode","setmodelMode","onSubmit","data","date1","Date","date_from","date2","date_to","diffTime","Math","abs","diffDays","ceil","formData","JSON","stringify","leave_id","id","user","reason","leave_status","total_leave","toISOString","updateEmployeeLeave","toast","success","autoClose","response","message","error","process","handleClose","getData","approveEmployee","handleShow","value","useEffect","getEmployeeData","getAllEmployee","result","results","getEmployeeLeaves","totalPages","code","refreshToken","localStorage","getItem","path","userLogout","finally","push","onHide","backdrop","keyboard","Header","closeButton","Title","Body","className","Group","name","defaultValue","map","item","selected","Control","type","autoFocus","required","substring","disabled","aria-label","href","onClick","event","preventDefault","role","aria-current","toLocaleDateString","day","month","year","Swal","fire","title","text","icon","showCancelButton","cancelButtonColor","confirmButtonColor","confirmButtonText","cancelButtonText","then","deleteEmployeeLeave","dismiss","DismissReason","cancel","breakLabel","nextLabel","onPageChange","newOffset","forcePage","pageRangeDisplayed","previousLabel","renderOnZeroPageCount"],"mappings":"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","file":"static/js/49.f1635d3e.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport { getEmployeeLeaves ,deleteEmployeeLeave,userLogout,getAllEmployee, updateEmployeeLeave,approveEmployee } from \"../../../utils/APIs\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form } from 'react-bootstrap';\r\n\r\n\r\nconst Leave = () => {\r\n  const history = useHistory()\r\n  const [cookies,setCookie ] = useCookies([\"user\"]);\r\n  const [itemlist, setitemlist] = useState([]);\r\n  const [employeeList, setemployeeList] = useState([])\r\n  // We start with an empty list of items.\r\n  const [pageCount, setPageCount] = useState(0);\r\n  // Here we use item offsets; we could also use page offsets\r\n  // following the API or data you're working with.\r\n  const [itemOffset, setItemOffset] = useState(0);\r\n  const [itemsPerPage] = useState(20);\r\n  const [show, setShow] = React.useState(false);\r\n  const [valueToEdit, setvalueToEdit] = useState({});\r\n \r\n  const { register, handleSubmit,reset, formState: { errors , isDirty, isValid } } = useForm({\r\n    mode: \"onChange\"\r\n  });\r\n\r\n  const [modelMode, setmodelMode] = useState('create')\r\n\r\n  const onSubmit = async (data) => {\r\n    const date1 = new Date(data?.date_from);\r\n    const date2 = new Date(data?.date_to);\r\n    const diffTime = Math.abs(date2 - date1);\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); \r\n    if(modelMode === 'edit'){\r\n    try {\r\n      const formData = JSON.stringify({\r\n        leave_id: valueToEdit?.id,\r\n        user: data.user,\r\n        reason: data?.reason,\r\n        leave_status: data?.leave_status,\r\n        total_leave : diffDays,\r\n        date_from : new Date(data?.date_from).toISOString(),\r\n        date_to : new Date(data?.date_to).toISOString(),\r\n      });\r\n      await updateEmployeeLeave(formData)\r\n      toast.success('Leave updated successfully',{\r\n        autoClose : true\r\n      })\r\n    } catch (error) {\r\n      if (\r\n        error &&\r\n        error.response &&\r\n        error.response.data &&\r\n        error.response.data.message\r\n      ) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n      }\r\n    }\r\n    finally {\r\n      handleClose()\r\n      getData()\r\n    }\r\n  }\r\n\r\n  if(modelMode === 'create'){\r\n    try {\r\n      const formData = JSON.stringify({\r\n        user: data.user,\r\n        reason: data?.reason,\r\n        leave_status: data?.leave_status,\r\n        total_leave : diffDays,\r\n        date_from : new Date(data?.date_from).toISOString(),\r\n        date_to : new Date(data?.date_to).toISOString(),\r\n      });\r\n      await approveEmployee(formData)\r\n      toast.success('Leave added successfully',{\r\n        autoClose : true\r\n      })\r\n    } catch (error) {\r\n      if (\r\n        error &&\r\n        error.response &&\r\n        error.response.data &&\r\n        error.response.data.message\r\n      ) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n      }\r\n    }\r\n    finally {\r\n      handleClose()\r\n      getData()\r\n    }\r\n  }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShow(false)\r\n    setvalueToEdit({})\r\n    reset()\r\n  };\r\n\r\n\r\n  const handleShow = (value,mode) => { \r\n    reset()\r\n\r\n    if(mode === 'edit'){\r\n      setvalueToEdit(value)\r\n      setmodelMode('edit')\r\n    }\r\n\r\n    if(mode === 'create'){\r\n      setvalueToEdit(value)\r\n      setmodelMode('create')\r\n    }\r\n    setShow(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData()\r\n  }, [itemOffset, itemsPerPage]);\r\n\r\n  useEffect(() => {\r\n    getEmployeeData()\r\n  }, []);\r\n\r\n  const getEmployeeData = async () => {\r\n      try {\r\n        const result = await getAllEmployee()\r\n        setemployeeList(result.data.results)\r\n      } catch (error) {\r\n        getEmployeeData()\r\n      }\r\n  }\r\n\r\n  const getData = async () => {\r\n      try {\r\n        const result = await (await getEmployeeLeaves(itemsPerPage, itemOffset)).data;\r\n        setitemlist(result?.results);  \r\n        // Fetch items from another resources.\r\n        setPageCount(result?.totalPages);\r\n      } catch (error) {\r\n        if (\r\n          error?.response?.data?.message\r\n        ) {\r\n          toast.error(error.response.data.message);\r\n        } else {\r\n          toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n        }\r\n\r\n        if(error?.response?.data?.code === 401){\r\n          const formData = JSON.stringify({\r\n            refreshToken: localStorage.getItem('refreshToken'),\r\n          });\r\n          setCookie('user', null , { path: '/' });\r\n          userLogout(formData).finally(() => {\r\n            history.push('/user-pages/login-1')\r\n          })\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n  // Invoke when user click to request another page.\r\n  const handlePageClick = (event) => {\r\n    const newOffset = (event.selected + 1);\r\n    setItemOffset(newOffset);\r\n  };\r\n\r\n\r\n  const deleteData = (id) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You will not be able to recover this imaginary file!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      cancelButtonColor: \"#DD6B55\",\r\n      confirmButtonColor: \"#DD6B55\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n      cancelButtonText: \"No, keep it\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        return (\r\n          deleteEmployeeLeave(id),\r\n          Swal.fire(\r\n            \"Deleted!\",\r\n            \"Your imaginary file has been deleted.\",\r\n            \"success\",\r\n          )\r\n        );\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire(\"Cancelled\", \"Your imaginary file is safe :)\", \"error\");\r\n      }\r\n    }).finally(() => {\r\n      getData()\r\n    })\r\n  }\r\n   \r\n  return (\r\n    <div>\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{modelMode === 'edit' ? 'Update' : 'Create'} Leave</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n      <div className=\"row auth\">\r\n        <div className=\"col-12 grid-margin\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <form className=\"form-sample\" onSubmit={handleSubmit(onSubmit)}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <Form.Group className=\"row\">\r\n                      <label className=\"col-sm-3 col-form-label\">User</label>\r\n                      <div className=\"col-sm-9\">\r\n                      <select\r\n                          name=\"user\"\r\n                          {...register(\"user\")}\r\n                          defaultValue={valueToEdit?.user?.id}\r\n                        >\r\n                            {employeeList?.map((item) => {\r\n                              return <>\r\n                                <option value={item?.id} selected={valueToEdit?.user?.id === item?.id}>{item?.name}</option>\r\n                              </>\r\n                            })}\r\n                        </select>\r\n                        {errors && errors.user && <p> select employee is required field</p>}\r\n                      </div>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <Form.Group className=\"row\">\r\n                      <label className=\"col-sm-3 col-form-label\">\r\n                       Reason\r\n                      </label>\r\n                      <div className=\"col-sm-9\">\r\n                        <Form.Control\r\n                          type=\"text\"\r\n                          name=\"contactno\"\r\n                          defaultValue={valueToEdit?.reason}\r\n                          autoFocus\r\n                          {...register(\"reason\", {\r\n                            required: true,\r\n                          })}\r\n                        />\r\n                        {errors &&\r\n                          errors.reason &&\r\n                          errors.reason.type === \"required\" && (\r\n                            <p>reason is required field</p>\r\n                          )}\r\n                      </div>\r\n                    </Form.Group>\r\n                  </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <Form.Group className=\"row\">\r\n                      <label className=\"col-sm-3 col-form-label\">Leave Status</label>\r\n                      <div className=\"col-sm-9\">\r\n                        <select\r\n                          name=\"leave_status\"\r\n                          {...register(\"leave_status\")}\r\n                        >\r\n                            <option value=\"pending\" selected={valueToEdit.leave_status === 'pending'} >pending</option>\r\n                            <option value=\"approved\" selected={valueToEdit.leave_status === 'approved'} >approved</option>\r\n                            <option value=\"rejected\" selected={valueToEdit.leave_status === 'rejected'} >rejected</option>\r\n                        </select>\r\n                        {errors && errors.leave_status && (\r\n                          <p>Leave status is required field</p>\r\n                        )}\r\n                      </div>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <Form.Group className=\"row\">\r\n                      <label className=\"col-sm-3 col-form-label\">Date From</label>\r\n                      <div className=\"col-sm-9\">\r\n                        <Form.Control\r\n                          type=\"date\"\r\n                          defaultValue={(valueToEdit?.date_from)?.substring(0, 10)}\r\n                          name=\"date_from\"\r\n                          {...register(\"date_from\", { required: true })}\r\n                        />\r\n                        {errors && errors.date_from && (\r\n                          <p>date_from is required field</p>\r\n                        )}\r\n                      </div>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <Form.Group className=\"row\">\r\n                      <label className=\"col-sm-3 col-form-label\">Date To</label>\r\n                      <div className=\"col-sm-9\">\r\n                        <Form.Control\r\n                          type=\"date\"\r\n                          defaultValue={(valueToEdit?.date_to)?.substring(0, 10)}\r\n                          name=\"date_to\"\r\n                          {...register(\"date_to\", { required: true })}\r\n                        />\r\n                        {errors && errors.date_to && (\r\n                          <p>date_to is required field</p>\r\n                        )}\r\n                      </div>\r\n                    </Form.Group>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-3\">\r\n                  <button\r\n                    className=\"btn  btn-primary btn-lg font-weight-medium auth-form-btn\"\r\n                    type=\"submit\"\r\n                    disabled={!isDirty || !isValid}\r\n                  >\r\n                    {modelMode === 'edit' ? 'UPDATE' : 'CREATE'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </Modal.Body>\r\n     \r\n    \r\n    </Modal>\r\n      <div className=\"page-header\">\r\n        <h3 className=\"page-title\">Employee / Leave </h3>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol className=\"breadcrumb\">\r\n            <li className=\"breadcrumb-item\">\r\n              <a href=\"!#\" onClick={(event) => event.preventDefault()}>\r\n                {cookies?.user?.role} Dashboard\r\n              </a>\r\n            </li>\r\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n              Leave Management\r\n            </li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n      <div className=\"col-lg-12 grid-margin stretch-card p0\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h4 className=\"card-title\">Leave Management</h4>\r\n            <h4 className=\"card-title text-right\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-gradient-primary btn-fw\"\r\n                    onClick={() => handleShow({},'create')}\r\n                  >\r\n                    Add New\r\n                  </button>\r\n                </h4>\r\n                            {/* <button>hii</button> */}\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th> User </th>\r\n                    <th> Reason </th>\r\n                    <th> Leave Status </th>\r\n                    <th> Total Leave </th>\r\n                    <th> Date From </th>\r\n                    <th> Date To </th>\r\n                    <th> Edit </th>\r\n                    <th> Delete </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {itemlist?.map((item) => {\r\n                    return (\r\n                      <tr>\r\n                        <td>{item?.user?.name}</td>\r\n                        <td>{item?.reason}</td>\r\n                        <td>{item?.leave_status}</td>\r\n                        <td>{item?.total_leave}</td>\r\n\r\n                        <td>{new Date(item?.date_from)?.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' })}</td>\r\n                        <td>{new Date(item?.date_to)?.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' })}</td>\r\n                        <td>\r\n                          <i onClick={()=> handleShow(item,'edit')} className=\"mdi mdi-lead-pencil\"></i>\r\n                        </td>\r\n                        <td>\r\n                         <i onClick={()=> deleteData(item?.id)} className=\"mdi mdi-delete\"> </i>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n              <ReactPaginate\r\n                breakLabel=\"...\"\r\n                nextLabel=\"next >\"\r\n                className=\"client-list\"\r\n                onPageChange={handlePageClick}\r\n                forcePage={0}\r\n                pageRangeDisplayed={5}\r\n                pageCount={pageCount}\r\n                previousLabel=\"< previous\"\r\n                renderOnZeroPageCount={null}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Leave;\r\n"],"sourceRoot":""}