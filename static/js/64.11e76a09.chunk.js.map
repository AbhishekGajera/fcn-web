{"version":3,"sources":["utils/Functions/useUrl.js","app/client-component/training/PaidVideo.js"],"names":["useUrl","param","history","useHistory","useLocation","search","pathname","url","URLSearchParams","urlParam","get","useState","value","setValue","val","set","replace","toString","PaidVideo","setPageCount","itemOffset","itemsPerPage","React","useCookies","setCookie","itemlist","setitemlist","setIsLoading","list","getVideoPaid","data","items","results","totalPages","response","message","toast","error","process","code","formData","JSON","stringify","refreshToken","localStorage","getItem","path","userLogout","finally","push","useEffect","console","log","className","aria-label","href","onClick","event","preventDefault","aria-current","class","map","item","cloudName","publicId","height","overlay","gravity","y","title","description","to"],"mappings":";2LAGaA,EAAS,SAACC,GAEnB,IAAMC,EAAUC,cAChB,EAA6BC,cAArBC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SACVC,EAAM,IAAIC,gBAAgBH,GAE1BI,EAAWF,EAAIG,IAAIT,GACzB,EAA0BU,mBAAsB,OAAbF,EAAoBA,EAAW,IAAlE,mBAAOG,EAAP,KAAcC,EAAd,KAQA,MAAO,CAACD,EANR,SAAmBE,GACfP,EAAIQ,IAAId,EAAOa,GACfZ,EAAQc,QAAQ,CAAEV,WAAUD,OAAQE,EAAIU,aACxCJ,EAASC,O,86MC8GFI,UA7GG,WAChB,MAAkCP,mBAAS,GAA3C,mBAAkBQ,GAAlB,WACA,EAAoCnB,YAAO,QAA3C,mBAAOoB,EAAP,KACA,GADA,KACuBT,mBAAS,KAAzBU,EAAP,oBACA,EAAwBC,IAAMX,UAAS,GAAvC,mBACA,GADA,UACsCA,mBAAS,KAA/C,mBACA,GADA,UAC6BY,YAAW,CAAC,UAAzC,mBAAgBC,GAAhB,WACA,EAAgCb,mBAAS,IAAzC,mBAAOc,EAAP,KAAiBC,EAAjB,KACA,EAAkCf,oBAAS,GAA3C,mBAAkBgB,GAAlB,WACMzB,EAAUC,cACVyB,EAAI,uCAAG,qGACXD,GAAa,GADF,kBAIGE,eAJH,8BAKLC,KALK,OAGDC,EAHC,OAMPL,EAAW,OAACK,QAAD,IAACA,OAAD,EAACA,EAAOC,SACnBb,EAAY,OAACY,QAAD,IAACA,OAAD,EAACA,EAAOE,YACpBN,GAAa,GARN,mDAUP,sCAAI,KAAOO,gBAAX,iBAAI,EAAiBJ,YAArB,aAAI,EAAuBK,SACvBC,IAAMC,MAAM,KAAMH,SAASJ,KAAKK,SAEhCC,IAAMC,MAAMC,wFAGoB,OAAhC,2CAAOJ,gBAAP,mBAAiBJ,YAAjB,eAAuBS,QACjBC,EAAWC,KAAKC,UAAU,CAC5BC,aAAcC,aAAaC,QAAQ,kBAEvCrB,EAAU,OAAQ,KAAM,CAAEsB,KAAM,MAChCC,aAAWP,GAAUQ,SAAQ,WACzB9C,EAAQ+C,KAAK,2BAtBd,0DAAH,qDA+BV,OAJFC,qBAAU,WACRtB,MACC,CAACR,EAAYC,IAChB8B,QAAQC,IAAI,KAAK3B,GAEb,6BACA,yBAAK4B,UAAU,eACb,wBAAIA,UAAU,cAAd,gBACA,yBAAKC,aAAW,cACd,wBAAID,UAAU,cACZ,wBAAIA,UAAU,mBAAkB,uBAAGE,KAAK,KAAKC,QAAS,SAAAC,GAAK,OAAIA,EAAMC,mBAArC,aAChC,wBAAIL,UAAU,yBAAyBM,eAAa,QAApD,iBAIN,yBAAKN,UAAU,iBACX,yBAAKO,MAAM,aACT,yBAAKA,MAAM,wBAAX,OACCnC,QADD,IACCA,OADD,EACCA,EAAUoC,KAAI,SAACC,GACN,OACR,yBAAKF,MAAM,QACT,yBAAKA,MAAM,iBAMN,kBAAC,IAAD,CAAOG,UAAU,YAAYC,SAAS,wBACvD,kBAAC,IAAD,CAAgBC,OAAO,IAAIC,QAAQ,wBAAwBC,QAAQ,QAAQC,EAAE,SAGjE,yBAAKR,MAAM,aACT,wBAAIA,MAAM,cACRE,EAAKO,OAEP,uBAAGT,MAAM,aACPE,EAAKQ,aAEP,8BACA,2BAAOjB,UAAU,wBAAjB,gBACgB,KACP,IACT,6BACA,6BACE,yBAAKA,UAAU,QACb,8BACE,sCADF,gBAEQ,IACR,6BACA,8BACE,yCADF,YAIF,kBAAC,IAAD,CACEkB,GAAG,IACHlB,UAAU,+CAFZ","file":"static/js/64.11e76a09.chunk.js","sourcesContent":["import { useState } from 'react'\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nexport const useUrl = (param) => {\r\n\r\n    const history = useHistory()\r\n    const { search, pathname } = useLocation()\r\n    const url = new URLSearchParams(search)\r\n\r\n    const urlParam = url.get(param)\r\n    const [value, setValue] = useState(urlParam !== null ? urlParam : '')\r\n\r\n    function _setValue(val){\r\n        url.set(param, val)\r\n        history.replace({ pathname, search: url.toString() }); \r\n        setValue(val)\r\n    }\r\n\r\n    return [value, _setValue]\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n\r\n  getVideoPaid,\r\n\r\n  userLogout\r\n} from \"../../../utils/APIs\";\r\nimport { useUrl } from \"../../../utils/Functions/useUrl\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {Image, Video, Transformation, CloudinaryContext} from 'cloudinary-react';\r\n\r\n\r\nconst PaidVideo = () => {\r\n  const [pageCount, setPageCount] = useState(0);\r\n  const [itemOffset, setItemOffset] = useUrl(\"page\");\r\n  const [itemsPerPage] = useState(10);\r\n  const [show, setShow] = React.useState(false);\r\n  const [valueToEdit, setvalueToEdit] = useState({});\r\n  const [cookies, setCookie] = useCookies([\"user\"]);\r\n  const [itemlist, setitemlist] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const history = useHistory();\r\n  const list = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n        const items = await (\r\n            await getVideoPaid()\r\n        ).data;\r\n        setitemlist(items?.results);\r\n        setPageCount(items?.totalPages);\r\n        setIsLoading(false);\r\n    } catch (error) {\r\n        if (error?.response?.data?.message) {\r\n            toast.error(error.response.data.message);\r\n        } else {\r\n            toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n        }\r\n\r\n        if (error?.response?.data?.code === 401) {\r\n            const formData = JSON.stringify({\r\n                refreshToken: localStorage.getItem(\"refreshToken\"),\r\n            });\r\n            setCookie(\"user\", null, { path: \"/\" });\r\n            userLogout(formData).finally(() => {\r\n                history.push(\"/user-pages/login-1\");\r\n            });\r\n        }\r\n    }\r\n};\r\nuseEffect(() => {\r\n  list();\r\n}, [itemOffset, itemsPerPage]);\r\nconsole.log(\"it\",itemlist)\r\n  return (\r\n    <div>\r\n    <div className=\"page-header\">\r\n      <h3 className=\"page-title\"> Paid Video </h3>\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol className=\"breadcrumb\">\r\n          <li className=\"breadcrumb-item\"><a href=\"!#\" onClick={event => event.preventDefault()}>Training</a></li>\r\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">Paid Video</li>\r\n        </ol>\r\n      </nav>\r\n    </div>\r\n    <div className=\"video-section\">\r\n        <div class=\"container\">\r\n          <div class=\"card-group vgr-cards\">\r\n          {itemlist?.map((item) => {\r\n                    return (\r\n            <div class=\"card\">\r\n              <div class=\"card-img-body\">\r\n                {/* <video\r\n                  class=\"card-img\"\r\n                  src={item.url}\r\n                  alt=\"Card image cap\"\r\n                /> */}\r\n                   <Video cloudName=\"dihq2mfsj\" publicId=\"khmmih18bjul8qndwbv0\">\r\n  <Transformation height='1' overlay=\"text:arial_60:watchme\" gravity=\"north\" y=\"10\" />\r\n</Video>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <h4 class=\"card-title\">\r\n                 {item.title}\r\n                </h4>\r\n                <p class=\"card-text\">\r\n                 {item.description}\r\n                </p>\r\n                <div></div>\r\n                <small className=\"instructor card-text\">\r\n                  Kalob Taulien{\" \"}\r\n                </small>{\" \"}\r\n                <br />\r\n                <div>\r\n                  <div className=\"pt-2\">\r\n                    <span>\r\n                      <b>Total: </b> 12 Lectures\r\n                    </span>{\" \"}\r\n                    <br />\r\n                    <span>\r\n                      <b>Duration: </b> 37 min\r\n                    </span>\r\n                  </div>\r\n                  <Link\r\n                    to=\"#\"\r\n                    className=\"btn-enrollment mt-3 btn btn-outline-primary\"\r\n                  >\r\n                    Enroll\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n              );\r\n            })}\r\n           \r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default PaidVideo"],"sourceRoot":""}