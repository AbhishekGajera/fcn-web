{"version":3,"sources":["utils/Functions/useDebounce.js","utils/Functions/commonOptions.js","app/Admin-components/Target/ViewTargets.js"],"names":["useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","statusOption","label","roleOption","roleOptionForAmin","timeOption","Date","setDate","getDate","optionForExpenceType","optionForCostCategory","formateStatus","status","formateStatusForTargets","ViewTargets","searchTerm","setSearchTerm","debouncedSearchTerm","pageCount","setPageCount","useUrl","itemOffset","setItemOffset","itemsPerPage","React","show","setShow","valueToEdit","setvalueToEdit","useCookies","cookies","setCookie","itemlist","setitemlist","isLoading","setIsLoading","history","useHistory","list","useForm","mode","register","handleSubmit","reset","formState","errors","onSubmit","isDirty","isValid","data","target_id","id","updatedData","JSON","stringify","UpdateTargets","toast","success","autoClose","response","message","error","process","user","role","getTargetsList","items","getTargetsListByUser","results","totalPages","code","formData","refreshToken","localStorage","getItem","path","userLogout","finally","push","onHide","backdrop","keyboard","Header","closeButton","Title","Body","className","Group","Control","as","type","name","defaultValue","Description","required","placeholder","selected","map","item","index","key","userType","aria-label","href","onClick","event","preventDefault","aria-current","action","onChange","e","target","includes","Fragment","product","qty","uid","Swal","fire","title","text","icon","showCancelButton","cancelButtonColor","confirmButtonColor","confirmButtonText","cancelButtonText","then","result","deleteTargetById","dismiss","DismissReason","cancel","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","forcePage"],"mappings":";oLAGaA,EAAc,SAACC,EAAOC,GAE/B,MAA4CC,mBAASF,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KAgBA,OAfAC,qBACE,WAEE,IAAMC,EAAUC,YAAW,WACzBH,EAAkBJ,KACjBC,GAIH,OAAO,WACLO,aAAaF,MAGjB,CAACN,EAAOC,IAEHE,I,iCCrBX,gRAAO,IAAMM,EAAe,CACxB,CAAET,MAAQ,EAAGU,MAAQ,UACrB,CAAEV,MAAQ,EAAGU,MAAQ,aACrB,CAAEV,MAAQ,EAAGU,MAAQ,eAGZC,EAAa,CACtB,CAAEX,MAAQ,OAAQU,MAAQ,QAC1B,CAAEV,MAAQ,QAASU,MAAQ,SAC3B,CAAEV,MAAQ,MAAOU,MAAQ,OACzB,CAAEV,MAAQ,SAAUU,MAAQ,WAGnBE,EAAoB,CAC7B,CAAEZ,MAAQ,MAAOU,MAAQ,OACzB,CAAEV,MAAQ,SAAUU,MAAQ,WAGnBG,EAAa,CACtB,CAAEb,OAAQ,IAAIc,MAAOC,SAAQ,IAAID,MAAOE,UAAY,GAAIN,MAAQ,UAChE,CAAEV,OAAQ,IAAIc,MAAOC,SAAQ,IAAID,MAAOE,UAAY,IAAKN,MAAQ,WACjE,CAAEV,OAAQ,IAAIc,MAAOC,SAAQ,IAAID,MAAOE,UAAY,IAAKN,MAAQ,WACjE,CAAEV,OAAQ,IAAIc,MAAOC,SAAQ,IAAID,MAAOE,UAAY,KAAMN,MAAQ,WAClE,CAAEV,OAAQ,IAAIc,MAAOC,SAAQ,IAAID,MAAOE,UAAY,KAAMN,MAAQ,WAGzDO,EAAuB,CAChC,CAAEjB,MAAQ,iBAAkBU,MAAQ,kBACpC,CAAEV,MAAQ,mBAAoBU,MAAQ,oBACtC,CAAEV,MAAQ,wBAAyBU,MAAQ,yBAC3C,CAAEV,MAAQ,gBAAiBU,MAAQ,kBAG1BQ,EAAwB,CACjC,CAAElB,MAAQ,SAAUU,MAAQ,UAC5B,CAAEV,MAAQ,OAAQU,MAAQ,QAC1B,CAAEV,MAAQ,OAAQU,MAAQ,QAC1B,CAAEV,MAAQ,MAAOU,MAAQ,OACzB,CAAEV,MAAQ,YAAaU,MAAQ,aAC/B,CAAEV,MAAQ,OAAQU,MAAQ,QAC1B,CAAEV,MAAQ,WAAYU,MAAQ,YAC9B,CAAEV,MAAQ,cAAeU,MAAQ,eACjC,CAAEV,MAAQ,mBAAoBU,MAAQ,oBACtC,CAAEV,MAAQ,WAAYU,MAAQ,YAC9B,CAAEV,MAAQ,SAAUU,MAAQ,UAC5B,CAAEV,MAAQ,mBAAoBU,MAAQ,oBACtC,CAAEV,MAAQ,YAAaU,MAAQ,aAC/B,CAAEV,MAAQ,6BAA8BU,MAAQ,8BAChD,CAAEV,MAAQ,aAAcU,MAAQ,cAChC,CAAEV,MAAQ,gBAAiBU,MAAQ,iBACnC,CAAEV,MAAQ,oBAAqBU,MAAQ,qBACvC,CAAEV,MAAQ,eAAgBU,MAAQ,gBAClC,CAAEV,MAAQ,gBAAiBU,MAAQ,iBACnC,CAAEV,MAAQ,mCAAoCU,MAAQ,qCAG7CS,EAAgB,SAACC,GAC1B,QAASA,GACL,KAAM,EACF,MAAO,SACX,KAAM,EACF,MAAO,YACX,KAAM,EACF,MAAO,aACX,QACI,MAAO,WAINC,EAA0B,SAACD,GACpC,QAASA,GACL,KAAM,EACF,MAAO,UACX,KAAM,EACF,MAAO,WACX,KAAM,EACF,MAAO,YACX,KAAM,EACF,MAAO,YACX,QACI,MAAO,e,o/MCoTJE,UA/WK,WAAO,IAAD,IACxB,EAAoCpB,mBAAS,IAA7C,mBAAOqB,EAAP,KAAmBC,EAAnB,KACMC,EAAsB1B,YAAYwB,EAAY,KAGpD,EAAkCrB,mBAAS,GAA3C,mBAAOwB,EAAP,KAAkBC,EAAlB,KAGA,EAAoCC,YAAO,QAA3C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAuB5B,mBAAS,IAAzB6B,EAAP,oBACA,EAAwBC,IAAM9B,UAAS,GAAvC,mBAAO+B,EAAP,KAAaC,EAAb,KACA,EAAsChC,mBAAS,IAA/C,mBAAOiC,EAAP,KAAoBC,EAApB,KACA,EAA6BC,YAAW,CAAC,SAAzC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAgCrC,mBAAS,IAAzC,mBAAOsC,EAAP,KAAiBC,EAAjB,KACA,EAAkCvC,oBAAS,GAA3C,mBAAOwC,EAAP,KAAkBC,GAAlB,KACMC,GAAUC,cAEhBxC,qBAAU,WACRyC,OACC,CAACjB,EAAYE,EAAcN,IAG9B,IAIA,GAAmFsB,YAAQ,CACzFC,KAAM,aADAC,GAAR,GAAQA,SAAUC,GAAlB,GAAkBA,aAAcC,GAAhC,GAAgCA,MAAhC,MAAuCC,UAAaC,GAApD,GAAoDA,OA0C9CC,IA1CN,GAA4DC,QAA5D,GAAqEC,QA0CvD,uCAAG,WAAOC,GAAP,uFAEbA,EAAKC,UAAL,OAAiBvB,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAawB,GACxBC,EAAcC,KAAKC,UAAUL,GAHtB,SAIPM,YAAcH,GAJP,OAKbI,IAAMC,QAAQ,8BAA+B,CAC3CC,UAAW,MAEbpB,KARa,gDAWX,MACA,KAAMqB,UACN,KAAMA,SAASV,MACf,KAAMU,SAASV,KAAKW,QAEpBJ,IAAMK,MAAM,KAAMF,SAASV,KAAKW,SAEhCJ,IAAMK,MAAMC,wFAlBD,yBAqBbpC,GAAQ,GArBK,4EAAH,uDAyBRY,GAAI,uCAAG,2GACXH,IAAa,GADF,SAKmB,WAAjB,OAAPL,QAAO,IAAPA,GAAA,UAAAA,EAASiC,YAAT,eAAeC,MALV,gCAOCC,aAAe1C,GAAeF,EAAa,GAP5C,8BAQL4B,KARK,OAMPiB,EANO,iBAWmB,WAAjB,OAAPpC,QAAO,IAAPA,GAAA,UAAAA,EAASiC,YAAT,eAAeC,MAXV,kCAaCG,aAAqB5C,GAAeF,EAAa,EAA7B,OAAgCS,QAAhC,IAAgCA,GAAhC,UAAgCA,EAASiC,YAAzC,aAAgC,EAAeZ,IAbpE,gCAcLF,KAdK,QAYPiB,EAZO,eAgBTjC,EAAW,UAACiC,SAAD,aAAC,EAAOE,SACnBjD,EAAY,UAAC+C,SAAD,aAAC,EAAOG,YACpBlC,IAAa,GAlBJ,mDAoBT,sCAAI,KAAOwB,gBAAX,iBAAI,EAAiBV,YAArB,aAAI,EAAuBW,SACzBJ,IAAMK,MAAM,KAAMF,SAASV,KAAKW,SAEhCJ,IAAMK,MAAMC,wFAGsB,OAAhC,2CAAOH,gBAAP,mBAAiBV,YAAjB,eAAuBqB,QACnBC,EAAWlB,KAAKC,UAAU,CAC9BkB,aAAcC,aAAaC,QAAQ,kBAErC3C,EAAU,OAAQ,KAAM,CAAE4C,KAAM,MAChCC,aAAWL,GAAUM,SAAQ,WAC3BzC,GAAQ0C,KAAK,2BAhCR,0DAAH,qDAsCV,OACE,6BACE,kBAAC,IAAD,CACErD,KAAMA,EACNsD,OAzGc,WAClBrD,GAAQ,GACRE,EAAe,IACfe,MAuGIqC,SAAS,SACTC,UAAU,GAEV,kBAAC,IAAMC,OAAP,CAAcC,aAAW,GACvB,kBAAC,IAAMC,MAAP,uBAEF,kBAAC,IAAMC,KAAP,KACE,yBAAKC,UAAU,YACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,0BAAMA,UAAU,cAAcxC,SAAUJ,GAAaI,KACnD,uBAAGwC,UAAU,oBAAb,mBACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,kBAAC,IAAKC,MAAN,CAAYD,UAAU,OACpB,2BAAOA,UAAU,2BAAjB,eAGA,yBAAKA,UAAU,YACb,kBAAC,IAAKE,QAAN,eACEC,GAAG,WACHC,KAAK,OACLC,KAAK,cACLC,aAAcjE,EAAYkE,aACtBpD,GAAS,cAAe,CAAEqD,UAAU,IAL1C,CAMEC,YAAY,iBAEblD,IAAUA,GAAOgD,aAChB,8DAIN,kBAAC,IAAKN,MAAN,CAAYD,UAAU,OACpB,2BAAOA,UAAU,2BAAjB,UAGA,yBAAKA,UAAU,YACb,0CACEA,UAAU,+BACVnC,GAAG,4BACHwC,KAAK,UACDlD,GAAS,SAAU,CACrBqD,UAAU,KAGZ,4BAAQtG,MAAM,IAAd,qBACA,4BACEA,MAAM,IACNwG,SAAgC,GAAtBrE,EAAYf,QAAc,YAFtC,WAMA,4BACEpB,MAAM,IACNwG,SAAgC,GAAtBrE,EAAYf,QAAc,YAFtC,YAMA,4BACEpB,MAAM,IACNwG,SAAgC,GAAtBrE,EAAYf,QAAc,YAFtC,YAMA,4BACEpB,MAAM,IACNwG,SAAgC,GAAtBrE,EAAYf,QAAc,YAFtC,eAUN,kBAAC,IAAK2E,MAAN,CAAYD,UAAU,OACpB,2BAAOA,UAAU,2BAAjB,cACA,yBAAKA,UAAU,YACb,0CACEA,UAAU,+BACVnC,GAAG,4BACHwC,KAAK,YACDlD,GAAS,WAAY,CACvBqD,UAAU,KAGX1F,IAAkB6F,KAAI,SAACC,EAAMC,GAAP,OACrB,4BACEC,IAAKD,EACL3G,MAAK,OAAE0G,QAAF,IAAEA,OAAF,EAAEA,EAAM1G,MACbU,MAAK,OAAEgG,QAAF,IAAEA,OAAF,EAAEA,EAAMhG,MACb8F,SAAUrE,EAAY0E,YAAZ,OAAyBH,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAM1G,iBASvD,yBAAK8F,UAAU,OACb,yBAAKA,UAAU,eAKjB,yBAAKA,UAAU,QACb,4BACEA,UAAU,2DACVI,KAAK,UAFP,kBAgBhB,yBAAKJ,UAAU,eACb,wBAAIA,UAAU,cAAd,2BACA,yBAAKgB,aAAW,cACd,wBAAIhB,UAAU,cACZ,wBAAIA,UAAU,mBACZ,uBAAGiB,KAAK,KAAKC,QAAS,SAACC,GAAD,OAAWA,EAAMC,mBAAvC,OACG5E,QADH,IACGA,GADH,UACGA,EAASiC,YADZ,aACG,EAAeC,KADlB,eAIF,wBAAIsB,UAAU,yBAAyBqB,eAAa,QAApD,mBAMN,yBAAKrB,UAAU,yCACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aAEf,yBAAKA,UAAU,YACb,yBAAKA,UAAU,kCACb,0BAAMA,UAAU,kCAAkCsB,OAAO,KACvD,yBAAKtB,UAAU,eACb,yBAAKA,UAAU,mDACb,uBAAGA,UAAU,+CAEf,2BACEI,KAAK,OACLJ,UAAU,oDACVS,YAAY,gBACZvG,MAAOuB,EACP8F,SAAU,SAACC,GAAO,IAAD,EACf9F,EAAa,OAAC8F,QAAD,IAACA,GAAD,UAACA,EAAGC,cAAJ,aAAC,EAAWvH,OACzB8B,EAAc,WAQ5B,wBAAIgE,UAAU,cAAd,gBAEA,yBAAKA,UAAU,oBACb,2BAAOA,UAAU,uBACf,+BACE,4BACE,oCACA,yCACA,0CACA,2CACA,sCACA,6CACA,wCACA,sCACC,CAAC,SAAS0B,SAAV,OAAmBlF,QAAnB,IAAmBA,GAAnB,UAAmBA,EAASiC,YAA5B,aAAmB,EAAeC,OAAS,0CAGhD,+BACG9B,EACC,kBAAC,IAAM+E,SAAP,KACE,kBAAC,IAAD,OAFM,OAKRjF,QALQ,IAKRA,OALQ,EAKRA,EAAUiE,KAAI,SAACC,EAAMC,GAAW,IAAD,MAC7B,OACE,wBAAIC,IAAKD,GACP,4BAAKA,EAAQ,GACb,mCAAKD,QAAL,IAAKA,GAAL,UAAKA,EAAMgB,eAAX,aAAK,EAAevB,MACpB,mCAAKO,QAAL,IAAKA,OAAL,EAAKA,EAAMiB,KACX,mCAAKjB,QAAL,IAAKA,OAAL,EAAKA,EAAMG,UACX,mCAAKH,QAAL,IAAKA,GAAL,UAAKA,EAAMnC,YAAX,aAAK,EAAY4B,MACjB,mCAAKO,QAAL,IAAKA,OAAL,EAAKA,EAAML,aACX,4BAAKhF,YAAuB,OAACqF,QAAD,IAACA,OAAD,EAACA,EAAMtF,SACnC,4BAAI,uBAAG4F,QAAS,kBA3SpBhH,EA2SqC0G,EA1SvDvD,KACAf,EAAepC,QACfkC,GAAQ,GAHS,IAAClC,GA2S4C8F,UAAU,yBACjD,CAAC,SAAS0B,SAAV,OAAmBlF,QAAnB,IAAmBA,GAAnB,UAAmBA,EAASiC,YAA5B,aAAmB,EAAeC,OAAS,4BAC1C,uBACEwC,QAAS,kBAxSfY,EAwSiC,OAAClB,QAAD,IAACA,OAAD,EAACA,EAAM/C,QAvS5DkE,IAAKC,KAAK,CACRC,MAAO,gBACPC,KAAM,uDACNC,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,UACnBC,mBAAoB,UACpBC,kBAAmB,kBACnBC,iBAAkB,gBACjBC,MAAK,SAACC,GACP,GAAIA,EAAOxI,MACT,OACEyI,YAAiBb,GAAKvC,SAAQ,kBAAMvC,QACpC+E,IAAKC,KACH,WACA,wCACA,WAGKU,EAAOE,UAAYb,IAAKc,cAAcC,QAC/Cf,IAAKC,KAAK,YAAa,iCAAkC,YArB1C,IAACF,GAySM9B,UAAU,0BAS1B,kBAAC,IAAD,CACE+C,WAAW,MACXC,UAAU,SACVhD,UAAU,cACViD,aA1UU,SAAC9B,GACvBnF,EAAcmF,EAAMT,WA0URwC,mBAAoB,EACpBtH,UAAWA,EACXuH,cAAc,aACdC,sBAAuB,KACvBC,UAAWtH","file":"static/js/20.14f028c6.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\n// Hook\r\nexport const useDebounce = (value, delay) => {\r\n    // State and setters for debounced value\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n    useEffect(\r\n      () => {\r\n        // Update debounced value after delay\r\n        const handler = setTimeout(() => {\r\n          setDebouncedValue(value);\r\n        }, delay);\r\n        // Cancel the timeout if value changes (also on delay change or unmount)\r\n        // This is how we prevent debounced value from updating if value is changed ...\r\n        // .. within the delay period. Timeout gets cleared and restarted.\r\n        return () => {\r\n          clearTimeout(handler);\r\n        };\r\n      },\r\n      [value, delay] // Only re-call effect if value or delay changes\r\n    );\r\n    return debouncedValue;\r\n  }","export const statusOption = [\r\n    { value : 0, label : 'Active' },\r\n    { value : 1, label : 'In Active' },\r\n    { value : 2, label : 'Terminated' }\r\n]\r\n\r\nexport const roleOption = [\r\n    { value : 'user', label : 'User' },\r\n    { value : 'admin', label : 'Admin' },\r\n    { value : 'IBO', label : 'IBO' },\r\n    { value : 'branch', label : 'Branch' }\r\n]\r\n\r\nexport const roleOptionForAmin = [\r\n    { value : 'IBO', label : 'IBO' },\r\n    { value : 'branch', label : 'Branch' }\r\n]\r\n\r\nexport const timeOption = [\r\n    { value : new Date().setDate(new Date().getDate() - 7), label : '1 week' },\r\n    { value : new Date().setDate(new Date().getDate() - 30), label : '1 month' },\r\n    { value : new Date().setDate(new Date().getDate() - 90), label : '3 month' },\r\n    { value : new Date().setDate(new Date().getDate() - 180), label : '6 month' },\r\n    { value : new Date().setDate(new Date().getDate() - 365), label : '1 Year' }\r\n]\r\n\r\nexport const optionForExpenceType = [\r\n    { value : 'Office expence', label : 'Office expence' },\r\n    { value : 'Employee expence', label : 'Employee expence' },\r\n    { value : 'Misleniuneous expence', label : 'Misleniuneous expence' },\r\n    { value : 'Other expence', label : 'Other expence' }\r\n]\r\n\r\nexport const optionForCostCategory = [\r\n    { value : 'Petrol', label : 'Petrol' },\r\n    { value : 'Food', label : 'Food' },\r\n    { value : 'Rent', label : 'Rent' },\r\n    { value : 'Tea', label : 'Tea' },\r\n    { value : 'Transport', label : 'Transport' },\r\n    { value : 'Gift', label : 'Gift' },\r\n    { value : 'Printing', label : 'Printing' },\r\n    { value : 'Advertising', label : 'Advertising' },\r\n    { value : 'Electricity Bill', label : 'Electricity Bill' },\r\n    { value : 'Cleaning', label : 'Cleaning' },\r\n    { value : 'Salary', label : 'Salary' },\r\n    { value : 'Medical Expences', label : 'Medical Expences' },\r\n    { value : 'Insurance', label : 'Insurance' },\r\n    { value : 'Legal & Professionals Fees', label : 'Legal & Professionals Fees' },\r\n    { value : 'Phone Bill', label : 'Phone Bill' },\r\n    { value : 'Internet Bill', label : 'Internet Bill' },\r\n    { value : 'Stationaries Bill', label : 'Stationaries Bill' },\r\n    { value : 'Depreciation', label : 'Depreciation' },\r\n    { value : 'Row materials', label : 'Row materials' },\r\n    { value : 'Books and magazine subscriptions', label : 'Books and magazine subscriptions' }\r\n]\r\n\r\nexport const formateStatus = (status) => {\r\n    switch (+status) {\r\n        case (0):\r\n            return 'Active';\r\n        case (1):\r\n            return 'In Active';\r\n        case (2):\r\n            return 'Terminated'            \r\n        default:\r\n            return 'Active';\r\n    }\r\n}\r\n\r\nexport const formateStatusForTargets = (status) => {\r\n    switch (+status) {\r\n        case (1):\r\n            return 'Running';\r\n        case (2):\r\n            return 'Finished';\r\n        case (3):\r\n            return 'Cancelled';\r\n        case (4):\r\n            return 'Archieved';         \r\n        default:\r\n            return 'Cancelled';\r\n    }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form } from 'react-bootstrap';\r\nimport {\r\n  deleteTargetById,\r\n  getTargetsList,\r\n  UpdateTargets,\r\n  userLogout,\r\n  getTargetsListByUser\r\n} from \"../../../utils/APIs\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useDebounce } from \"../../../utils/Functions/useDebounce\";\r\nimport Spinner from \"../../shared/Spinner\";\r\nimport { useUrl } from \"../../../utils/Functions/useUrl\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { formateStatusForTargets, roleOptionForAmin } from \"../../../utils/Functions/commonOptions\";\r\n\r\nconst ViewTargets = () => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\r\n\r\n  // We start with an empty list of items.\r\n  const [pageCount, setPageCount] = useState(0);\r\n  // Here we use item offsets; we could also use page offsets\r\n  // following the API or data you're working with.\r\n  const [itemOffset, setItemOffset] = useUrl(\"page\");\r\n  const [itemsPerPage] = useState(20);\r\n  const [show, setShow] = React.useState(false);\r\n  const [valueToEdit, setvalueToEdit] = useState({});\r\n  const [cookies, setCookie] = useCookies([\"user\"]);\r\n  const [itemlist, setitemlist] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    list();\r\n  }, [itemOffset, itemsPerPage, debouncedSearchTerm]);\r\n\r\n  // Invoke when user click to request another page.\r\n  const handlePageClick = (event) => {\r\n    setItemOffset(event.selected);\r\n  };\r\n\r\n  const { register, handleSubmit, reset, formState: { errors, isDirty, isValid } } = useForm({\r\n    mode: \"onChange\"\r\n  });\r\n\r\n  const handleClose = () => {\r\n    setShow(false)\r\n    setvalueToEdit({})\r\n    reset()\r\n  };\r\n\r\n  const handleShow = (value) => {\r\n    reset()\r\n    setvalueToEdit(value)\r\n    setShow(true);\r\n  }\r\n\r\n  const deleteTarget = (uid) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You will not be able to recover this imaginary file!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      cancelButtonColor: \"#DD6B55\",\r\n      confirmButtonColor: \"#DD6B55\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n      cancelButtonText: \"No, keep it\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        return (\r\n          deleteTargetById(uid).finally(() => list()),\r\n          Swal.fire(\r\n            \"Deleted!\",\r\n            \"Your imaginary file has been deleted.\",\r\n            \"success\"\r\n          )\r\n        );\r\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n        Swal.fire(\"Cancelled\", \"Your imaginary file is safe :)\", \"error\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      data.target_id = valueToEdit?.id;\r\n      const updatedData = JSON.stringify(data)\r\n      await UpdateTargets(updatedData)\r\n      toast.success('Target updated Successfully', {\r\n        autoClose: 3000\r\n      })\r\n      list()\r\n    } catch (error) {\r\n      if (\r\n        error &&\r\n        error.response &&\r\n        error.response.data &&\r\n        error.response.data.message\r\n      ) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n      }\r\n    } finally {\r\n      setShow(false)\r\n    }\r\n  };\r\n\r\n  const list = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      let items\r\n\r\n      if (cookies?.user?.role === 'admin') {\r\n        items = await (\r\n          await getTargetsList(itemsPerPage, +itemOffset + 1)\r\n        ).data;\r\n      }\r\n\r\n      if (cookies?.user?.role !== 'admin') {\r\n        items = await (\r\n          await getTargetsListByUser(itemsPerPage, +itemOffset + 1, cookies?.user?.id)\r\n        ).data;\r\n      }\r\n      setitemlist(items?.results);\r\n      setPageCount(items?.totalPages);\r\n      setIsLoading(false);\r\n    } catch (error) {\r\n      if (error?.response?.data?.message) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error(process.env.REACT_APP_ERROR_MESSAGE);\r\n      }\r\n\r\n      if (error?.response?.data?.code === 401) {\r\n        const formData = JSON.stringify({\r\n          refreshToken: localStorage.getItem(\"refreshToken\"),\r\n        });\r\n        setCookie(\"user\", null, { path: \"/\" });\r\n        userLogout(formData).finally(() => {\r\n          history.push(\"/user-pages/login-1\");\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Update Target</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"row auth\">\r\n            <div className=\"col-12 grid-margin\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <form className=\"form-sample\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <p className=\"card-description\"> Update Target </p>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Description\r\n                          </label>\r\n                          <div className=\"col-sm-9\">\r\n                            <Form.Control\r\n                              as=\"textarea\"\r\n                              type=\"text\"\r\n                              name=\"Description\"\r\n                              defaultValue={valueToEdit.Description}\r\n                              {...register(\"Description\", { required: true })}\r\n                              placeholder=\"Description\"\r\n                            />\r\n                            {errors && errors.Description && (\r\n                              <p>Description is required field</p>\r\n                            )}\r\n                          </div>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Status\r\n                          </label>\r\n                          <div className=\"col-sm-9\">\r\n                            <select\r\n                              className=\"form-control form-control-lg\"\r\n                              id=\"exampleFormControlSelect2\"\r\n                              name=\"status\"\r\n                              {...register(\"status\", {\r\n                                required: true,\r\n                              })}\r\n                            >\r\n                              <option value=''>--Select Status--</option>\r\n                              <option\r\n                                value=\"1\"\r\n                                selected={valueToEdit.status == 1 ? \"selected\" : false}\r\n                              >\r\n                                Running\r\n                              </option>\r\n                              <option\r\n                                value=\"2\"\r\n                                selected={valueToEdit.status == 2 ? \"selected\" : false}\r\n                              >\r\n                                Finished\r\n                              </option>\r\n                              <option\r\n                                value=\"3\"\r\n                                selected={valueToEdit.status == 3 ? \"selected\" : false}\r\n                              >\r\n                                Canceled\r\n                              </option>\r\n                              <option\r\n                                value=\"4\"\r\n                                selected={valueToEdit.status == 4 ? \"selected\" : false}\r\n                              >\r\n                                archived\r\n                              </option>\r\n                            </select>\r\n\r\n                          </div>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\"> User Type</label>\r\n                          <div className=\"col-sm-9\">\r\n                            <select\r\n                              className=\"form-control form-control-lg\"\r\n                              id=\"exampleFormControlSelect2\"\r\n                              name=\"userType\"\r\n                              {...register(\"userType\", {\r\n                                required: true,\r\n                              })}\r\n                            >\r\n                              {roleOptionForAmin.map((item, index) => (\r\n                                <option\r\n                                  key={index}\r\n                                  value={item?.value}\r\n                                  label={item?.label}\r\n                                  selected={valueToEdit.userType === item?.value}\r\n                                ></option>\r\n                              ))}\r\n                            </select>\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-3\">\r\n                      <button\r\n                        className=\"btn  btn-primary btn-lg font-weight-medium auth-form-btn\"\r\n                        type=\"submit\"\r\n                      >\r\n                        UPDATE\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Body>\r\n\r\n\r\n      </Modal>\r\n      <div className=\"page-header\">\r\n        <h3 className=\"page-title\">Targets / Show Targets </h3>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol className=\"breadcrumb\">\r\n            <li className=\"breadcrumb-item\">\r\n              <a href=\"!#\" onClick={(event) => event.preventDefault()}>\r\n                {cookies?.user?.role} Dashboard\r\n              </a>\r\n            </li>\r\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n              Show Targets\r\n            </li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n      <div className=\"col-lg-12 grid-margin stretch-card p0\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\"></div>\r\n\r\n              <div className=\"col-md-6\">\r\n                <div className=\"search-field d-none d-md-block\">\r\n                  <form className=\"d-flex align-items-center h-100\" action=\"#\">\r\n                    <div className=\"input-group\">\r\n                      <div className=\"input-group-prepend outline-gray bg-transparent\">\r\n                        <i className=\"input-group-text border-0 mdi mdi-magnify\"></i>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control outline-gray bg-transparent border-0\"\r\n                        placeholder=\"Search Target\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => {\r\n                          setSearchTerm(e?.target?.value);\r\n                          setItemOffset(0);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <h4 className=\"card-title\">Targets list</h4>\r\n\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th> Id </th>\r\n                    <th> Product </th>\r\n                    <th> Quantity </th>\r\n                    <th> User Type </th>\r\n                    <th> User </th>\r\n                    <th> Description </th>\r\n                    <th> Status </th>\r\n                    <th> Edit </th>\r\n                    {[\"admin\"].includes(cookies?.user?.role) && <th> Delete </th>}\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {isLoading ? (\r\n                    <React.Fragment>\r\n                      <Spinner />\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    itemlist?.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>{index + 1}</td>\r\n                          <td>{item?.product?.name}</td>\r\n                          <td>{item?.qty}</td>\r\n                          <td>{item?.userType}</td>\r\n                          <td>{item?.user?.name}</td>\r\n                          <td>{item?.Description}</td>\r\n                          <td>{formateStatusForTargets(item?.status)}</td>\r\n                          <td><i onClick={() => handleShow(item)} className=\"mdi mdi-lead-pencil\"></i></td>\r\n                          {[\"admin\"].includes(cookies?.user?.role) && <td>\r\n                            <i\r\n                              onClick={() => deleteTarget(item?.id)}\r\n                              className=\"mdi mdi-delete\"\r\n                            ></i>\r\n                          </td>}\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n              <ReactPaginate\r\n                breakLabel=\"...\"\r\n                nextLabel=\"next >\"\r\n                className=\"client-list\"\r\n                onPageChange={handlePageClick}\r\n                pageRangeDisplayed={5}\r\n                pageCount={pageCount}\r\n                previousLabel=\"< previous\"\r\n                renderOnZeroPageCount={null}\r\n                forcePage={itemOffset}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewTargets;\r\n"],"sourceRoot":""}