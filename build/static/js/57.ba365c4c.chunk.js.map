{"version":3,"sources":["utils/Functions/useUrl.js","app/client-component/training/FreeVideo.js"],"names":["useUrl","param","history","useHistory","useLocation","search","pathname","url","URLSearchParams","urlParam","get","useState","value","setValue","val","set","replace","toString","FreeVideo","setPageCount","itemOffset","itemsPerPage","React","useCookies","setCookie","itemlist","setitemlist","setIsLoading","list","getVideoFree","data","items","results","totalPages","response","message","toast","error","process","code","formData","JSON","stringify","refreshToken","localStorage","getItem","path","userLogout","finally","push","useEffect","console","log","className","aria-label","to","onClNameick","event","preventDefault","aria-current","class","map","item","src","alt","title","description"],"mappings":";2LAGaA,EAAS,SAACC,GAEnB,IAAMC,EAAUC,cAChB,EAA6BC,cAArBC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SACVC,EAAM,IAAIC,gBAAgBH,GAE1BI,EAAWF,EAAIG,IAAIT,GACzB,EAA0BU,mBAAsB,OAAbF,EAAoBA,EAAW,IAAlE,mBAAOG,EAAP,KAAcC,EAAd,KAQA,MAAO,CAACD,EANR,SAAmBE,GACfP,EAAIQ,IAAId,EAAOa,GACfZ,EAAQc,QAAQ,CAAEV,WAAUD,OAAQE,EAAIU,aACxCJ,EAASC,O,46MCsHFI,UAtHG,WAEhB,MAAkCP,mBAAS,GAA3C,mBAAkBQ,GAAlB,WACA,EAAoCnB,YAAO,QAA3C,mBAAOoB,EAAP,KACA,GADA,KACuBT,mBAAS,KAAzBU,EAAP,oBACA,EAAwBC,IAAMX,UAAS,GAAvC,mBACA,GADA,UACsCA,mBAAS,KAA/C,mBACA,GADA,UAC6BY,YAAW,CAAC,UAAzC,mBAAgBC,GAAhB,WACA,EAAgCb,mBAAS,IAAzC,mBAAOc,EAAP,KAAiBC,EAAjB,KACA,EAAkCf,oBAAS,GAA3C,mBAAkBgB,GAAlB,WACMzB,EAAUC,cAEVyB,EAAI,uCAAG,qGACXD,GAAa,GADF,kBAIGE,eAJH,8BAKLC,KALK,OAGDC,EAHC,OAMPL,EAAW,OAACK,QAAD,IAACA,OAAD,EAACA,EAAOC,SACnBb,EAAY,OAACY,QAAD,IAACA,OAAD,EAACA,EAAOE,YACpBN,GAAa,GARN,mDAUP,sCAAI,KAAOO,gBAAX,iBAAI,EAAiBJ,YAArB,aAAI,EAAuBK,SACvBC,IAAMC,MAAM,KAAMH,SAASJ,KAAKK,SAEhCC,IAAMC,MAAMC,wFAGoB,OAAhC,2CAAOJ,gBAAP,mBAAiBJ,YAAjB,eAAuBS,QACjBC,EAAWC,KAAKC,UAAU,CAC5BC,aAAcC,aAAaC,QAAQ,kBAEvCrB,EAAU,OAAQ,KAAM,CAAEsB,KAAM,MAChCC,aAAWP,GAAUQ,SAAQ,WACzB9C,EAAQ+C,KAAK,2BAtBd,0DAAH,qDAgCV,OALFC,qBAAU,WACRtB,MACC,CAACR,EAAYC,IAChB8B,QAAQC,IAAI,KAAK3B,GAGb,6BACE,yBAAK4B,UAAU,eACb,wBAAIA,UAAU,cAAd,gBACA,yBAAKC,aAAW,cACd,wBAAID,UAAU,cACZ,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAME,GAAG,KAAKC,YAAa,SAACC,GAAD,OAAWA,EAAMC,mBAA5C,YAGF,wBAAIL,UAAU,yBAAyBM,eAAa,SAJpD,iBAWN,yBAAKN,UAAU,iBACb,yBAAKO,MAAM,aACT,yBAAKA,MAAM,wBAAX,OACCnC,QADD,IACCA,OADD,EACCA,EAAUoC,KAAI,SAACC,GACN,OACR,yBAAKF,MAAM,QACT,yBAAKA,MAAM,iBACT,2BACEA,MAAM,WACNG,IAAKD,EAAKvD,IACVyD,IAAI,oBAMR,yBAAKJ,MAAM,aACT,wBAAIA,MAAM,cACRE,EAAKG,OAEP,uBAAGL,MAAM,aACPE,EAAKI,aAEP,8BACA,2BAAOb,UAAU,wBAAjB,gBACgB,KACP,IACT,6BACA,6BACE,yBAAKA,UAAU,QACb,8BACE,sCADF,gBAEQ,IACR,6BACA,8BACE,yCADF,YAIF,kBAAC,IAAD,CACEE,GAAG,IACHF,UAAU,+CAFZ","file":"static/js/57.ba365c4c.chunk.js","sourcesContent":["import { useState } from 'react'\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nexport const useUrl = (param) => {\n\n    const history = useHistory()\n    const { search, pathname } = useLocation()\n    const url = new URLSearchParams(search)\n\n    const urlParam = url.get(param)\n    const [value, setValue] = useState(urlParam !== null ? urlParam : '')\n\n    function _setValue(val){\n        url.set(param, val)\n        history.replace({ pathname, search: url.toString() }); \n        setValue(val)\n    }\n\n    return [value, _setValue]\n}","import React, { useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\n\nimport { Link } from \"react-router-dom\";\nimport {\n\n  getVideoFree,\n\n  userLogout\n} from \"../../../utils/APIs\";\nimport { useUrl } from \"../../../utils/Functions/useUrl\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport {Image, Video, Transformation, CloudinaryContext} from 'cloudinary-react';\n\nconst FreeVideo = () => {\n \n  const [pageCount, setPageCount] = useState(0);\n  const [itemOffset, setItemOffset] = useUrl(\"page\");\n  const [itemsPerPage] = useState(10);\n  const [show, setShow] = React.useState(false);\n  const [valueToEdit, setvalueToEdit] = useState({});\n  const [cookies, setCookie] = useCookies([\"user\"]);\n  const [itemlist, setitemlist] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const history = useHistory();\n\n  const list = async () => {\n    setIsLoading(true);\n    try {\n        const items = await (\n            await getVideoFree()\n        ).data;\n        setitemlist(items?.results);\n        setPageCount(items?.totalPages);\n        setIsLoading(false);\n    } catch (error) {\n        if (error?.response?.data?.message) {\n            toast.error(error.response.data.message);\n        } else {\n            toast.error(process.env.REACT_APP_ERROR_MESSAGE);\n        }\n\n        if (error?.response?.data?.code === 401) {\n            const formData = JSON.stringify({\n                refreshToken: localStorage.getItem(\"refreshToken\"),\n            });\n            setCookie(\"user\", null, { path: \"/\" });\n            userLogout(formData).finally(() => {\n                history.push(\"/user-pages/login-1\");\n            });\n        }\n    }\n};\nuseEffect(() => {\n  list();\n}, [itemOffset, itemsPerPage]);\nconsole.log(\"it\",itemlist)\n\n  return (\n    <div>\n      <div className=\"page-header\">\n        <h3 className=\"page-title\"> Free Video </h3>\n        <nav aria-label=\"breadcrumb\">\n          <ol className=\"breadcrumb\">\n            <li className=\"breadcrumb-item\">\n              <Link to=\"!#\" onClNameick={(event) => event.preventDefault()}>\n                Training\n              </Link>\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">\n            </li>\n              Free Video\n            </li>\n          </ol>\n        </nav>\n      </div>\n      <div className=\"video-section\">\n        <div class=\"container\">\n          <div class=\"card-group vgr-cards\">\n          {itemlist?.map((item) => {\n                    return (\n            <div class=\"card\">\n              <div class=\"card-img-body\">\n                <video\n                  class=\"card-img\"\n                  src={item.url}\n                  alt=\"Card image cap\"\n                />\n                {/* <Video cloudName=\"dihq2mfsj\" publicId=\"\">\n  <Transformation overlay=\"text:arial_60:watchme\" gravity=\"north\" y=\"20\" />\n</Video> */}\n              </div>\n              <div class=\"card-body\">\n                <h4 class=\"card-title\">\n                 {item.title}\n                </h4>\n                <p class=\"card-text\">\n                 {item.description}\n                </p>\n                <div></div>\n                <small className=\"instructor card-text\">\n                  Kalob Taulien{\" \"}\n                </small>{\" \"}\n                <br />\n                <div>\n                  <div className=\"pt-2\">\n                    <span>\n                      <b>Total: </b> 12 Lectures\n                    </span>{\" \"}\n                    <br />\n                    <span>\n                      <b>Duration: </b> 37 min\n                    </span>\n                  </div>\n                  <Link\n                    to=\"#\"\n                    className=\"btn-enrollment mt-3 btn btn-outline-primary\"\n                  >\n                    Enroll\n                  </Link>\n                </div>\n              </div>\n            </div>\n              );\n            })}\n           \n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FreeVideo;\n"],"sourceRoot":""}