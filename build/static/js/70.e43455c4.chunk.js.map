{"version":3,"sources":["app/Admin-components/Notification/AllNotification.js"],"names":["AllNotification","React","useState","show","setShow","searchTerm","setsearchTerm","dropDownOpt","setdropDownOpt","useEffect","getUserlist","getusersbyfilter","items","Userlist","data","results","dropDownValue","map","response","email","useForm","mode","register","handleSubmit","formState","errors","values","isDirty","isValid","getValues","onSubmit","console","log","onHide","backdrop","keyboard","Header","closeButton","Title","Body","className","Group","Control","type","name","required","title","options","onChange","term","isMulti","description","id","multiple","onClick","e","preventDefault","element","document","getElementById","click","file","aria-label","href","event","aria-current","style","marginBottom"],"mappings":"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","file":"static/js/70.e43455c4.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Form } from 'react-bootstrap';\r\nimport { getusersbyfilter } from \"../../../utils/APIs\";\r\n// import { useCookies } from \"react-cookie\"\r\nimport Select from 'react-select'\r\n\r\nconst AllNotification = () => {\r\n\r\n  // const [cookies, setCookie] = useCookies([\"user\"]);\r\n  const [show, setShow] = React.useState(false);\r\n  const [searchTerm, setsearchTerm] = React.useState('');\r\n  const [dropDownOpt, setdropDownOpt] = React.useState([]);\r\n\r\n  const handleClose = () => {\r\n    setShow(false)\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserlist();\r\n  }, [searchTerm]);\r\n\r\n  const getUserlist = async () => {\r\n    const items = await (await getusersbyfilter(searchTerm));\r\n    const Userlist = items?.data?.results;\r\n    const dropDownValue = Userlist.map((response) => ({\r\n      \"value\": response.email,\r\n      \"label\" : response.email\r\n    }))\r\n    // console.log(\"dropDownValue\",dropDownValue)\r\n    setdropDownOpt(dropDownValue)\r\n  }\r\n\r\n  const handleUpload = (e) => {\r\n    e.preventDefault()\r\n    const element = document.getElementById('input-id');\r\n    if (element) {\r\n      element.click()\r\n    }\r\n  };\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isDirty, isValid },\r\n    getValues,\r\n  } = useForm({\r\n    mode: \"onChange\",\r\n  });\r\n\r\n  const values = getValues();\r\n\r\n  const onSubmit = async (data) => {\r\n    console.log(\"data\", data);\r\n    setShow(false);\r\n  }\r\n\r\n  const searchUpdated = (term) => {\r\n    console.log(\"term\", term);\r\n    setsearchTerm(term)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Send Notification</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"row auth\">\r\n            <div className=\"col-12 grid-margin\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <form className=\"form-sample\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <p className=\"card-description\"> Send Notification </p>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-12\">\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">Title</label>\r\n                          <div className=\"col-sm-9\">\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              name=\"title\"\r\n                              {...register(\"title\", { required: true })}\r\n\r\n                            />\r\n                            {errors && errors.title && <p>Title is required field</p>}\r\n                          </div>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Select User{\" \"}\r\n                          </label>\r\n                          <div className=\"col-sm-8\">\r\n                            <Select\r\n                              options={dropDownOpt}\r\n                              onChange={searchUpdated}\r\n                              name='user'\r\n                              isMulti\r\n                            />\r\n                          </div>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">\r\n                            Description{\" \"}\r\n                          </label>\r\n                          <div className=\"col-sm-8\">\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              name=\"description\"\r\n                              {...register(\"description\", { required: true })}\r\n                            />\r\n                            {errors && errors.description && (\r\n                              <p>Description is required field</p>\r\n                            )}\r\n                          </div>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-4 col-form-label\">\r\n                            Upload Image{\" \"}</label>\r\n\r\n                          <div className=\"col-sm-8\">\r\n                            <Form.Control\r\n                              id=\"input-id\"\r\n                              className=\"d-none\"\r\n                              type=\"file\"\r\n                              name=\"file\"\r\n                              multiple={false}\r\n                              {...register(\"file\", { required: true })}\r\n                            />\r\n\r\n                            <button\r\n                              onClick={handleUpload}\r\n                              className={`btn btn-outline-${values?.file?.[0]?.name ? \" btn-primary\" : \" btn-primary\"\r\n                                }`}\r\n                            >\r\n                              {values?.file?.[0]?.name ? values?.file?.[0]?.name : \"Upload Image\"}\r\n                            </button>\r\n                            {errors && errors.file && (\r\n                              <p>Upload image is required field</p>\r\n                            )}\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"mt-3\">\r\n                      <button\r\n                        className=\"btn  btn-primary btn-lg font-weight-medium auth-form-btn\"\r\n                        type=\"submit\"\r\n                      >\r\n                        Send\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <div className=\"page-header\">\r\n        <h3 className=\"page-title\">Notification / All </h3>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol className=\"breadcrumb\">\r\n            <li className=\"breadcrumb-item\">\r\n              <a href=\"!#\" onClick={(event) => event.preventDefault()}>\r\n                {/* {cookies?.user?.role}  */}\r\n                Dashboard\r\n              </a>\r\n            </li>\r\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n              All\r\n            </li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n      <div className=\"col-lg-12 grid-margin stretch-card p0\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <div className=\"row\" style={{ marginBottom: '14px' }}>\r\n              <div className=\"col-md-3\">\r\n                <button className=\"btn btn-gradient-primary btn-lg\" type=\"button\" onClick={() => setShow(true)}>\r\n                  Send Notification\r\n                </button>\r\n              </div>\r\n              <div className=\"col-md-9\">\r\n              </div>\r\n            </div>\r\n            <h4 className=\"card-title\">Receiver list</h4>\r\n\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th> Name </th>\r\n                    <th> Title </th>\r\n                    <th> Description </th>\r\n                    <th> Delete </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AllNotification;\r\n\r\n"],"sourceRoot":""}